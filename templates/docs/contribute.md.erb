<!--
CONTRIBUTOR; WARNING
This file is generated by the /update-documentation.rb script. 
Don't edit it directly.

@see /update-documentation.rb
@see /templates/docs/contribute.md.erb
-->

# Contribution

## Local development
To debug and rebuild the images locally, you can: 
1. Clone this repository (`git clone git@github.com:decidim/docker.git decidim-docker`)
2. Run one of the docker-compose command with the version you want to build. 

| Decidim Version   | Ruby image        | Node version      | Docker-compose command |
| ----------------- | ----------------- | ----------------- | ---------------------- |
<%= decidim_table.map {|row| "| #{row.map{|cell| "`#{cell}`".ljust(18)}.join("| ")} |"}.join("\n") %>

## Templates
The templates for README, decidim.NAME_YOUR_VERSION.yml are available in the [template directory](./templates)
```
├── templates
│   ├── README.md.erb # This readme
│   ├── container-Dockerfile.erb # the Dockerfile injected in the image, present if you eject
│   ├── container-docker-compose.yml.erb # The docker-compose injected in the image, present if you eject
│   └── quickstart.yml.erb # the decidim.NAME_YOUR_VERSION.yml docker-compose template.
```

## Ruby Scripts
The scripts are all written in plain ruby. You can find the two generator scripts in this repo: 

1. ./update-registery.rb: that build the Docker image (`-build`, `-dev` and NAME_YOUR_VERSION)
2. ./update-documentation.rb: that generates the README, and the docker-compose files.

These scripts are configurable, look at the `.env.sample` file for configuration variables. 
